{"ast":null,"code":"var _jsxFileName = \"/Users/rheaadhikari/Documents/Room-Booking-App/web-client/src/components/CaretakerContactScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../config/api';\nimport './CaretakerContactScreen.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CaretakerContactScreen = () => {\n  _s();\n  const [customers, setCustomers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showModal, setShowModal] = useState(false);\n  const [isEditing, setIsEditing] = useState(false);\n  const [selectedCustomer, setSelectedCustomer] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [formData, setFormData] = useState({\n    name: '',\n    phoneNumber: '',\n    additionalPhoneNumber: '',\n    photoIdProofUrl: '',\n    remarks: ''\n  });\n  useEffect(() => {\n    fetchCustomers();\n  }, []);\n  const fetchCustomers = async () => {\n    try {\n      const response = await api.get('/customer');\n      setCustomers(response.data);\n    } catch (error) {\n      console.error('Error fetching customers:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Filter customers based on search term\n  const filteredCustomers = customers.filter(customer => {\n    var _customer$name, _customer$phoneNumber, _customer$additionalP;\n    const name = ((_customer$name = customer.name) === null || _customer$name === void 0 ? void 0 : _customer$name.toLowerCase()) || '';\n    const phoneNumber = ((_customer$phoneNumber = customer.phoneNumber) === null || _customer$phoneNumber === void 0 ? void 0 : _customer$phoneNumber.toLowerCase()) || '';\n    const additionalPhoneNumber = ((_customer$additionalP = customer.additionalPhoneNumber) === null || _customer$additionalP === void 0 ? void 0 : _customer$additionalP.toLowerCase()) || '';\n    const searchLower = searchTerm.toLowerCase();\n    return name.includes(searchLower) || phoneNumber.includes(searchLower) || additionalPhoneNumber.includes(searchLower);\n  });\n  const handleEditCustomer = customer => {\n    setFormData({\n      name: customer.name,\n      phoneNumber: customer.phoneNumber,\n      additionalPhoneNumber: customer.additionalPhoneNumber || '',\n      photoIdProofUrl: customer.photoIdProofUrl || '',\n      remarks: customer.remarks || ''\n    });\n    setSelectedCustomer(customer);\n    setIsEditing(true);\n    setShowModal(true);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      if (isEditing && selectedCustomer) {\n        // For editing, remove password if it's empty to avoid overwriting existing password\n        const updateData = {\n          ...formData\n        };\n        if (!updateData.password) {\n          delete updateData.password;\n        }\n        await api.put(`/customer/${selectedCustomer.phoneNumber}`, updateData);\n        alert('‚úÖ Customer updated successfully!');\n      } else {\n        // For new customer, password is required\n        if (!formData.password) {\n          alert('‚ùå Password is required for new customers.');\n          return;\n        }\n        await api.post('/auth/customer/register', formData);\n        alert('‚úÖ Customer added successfully!');\n      }\n      setShowModal(false);\n      setIsEditing(false);\n      setSelectedCustomer(null);\n      setFormData({\n        name: '',\n        phoneNumber: '',\n        password: '',\n        additionalPhoneNumber: '',\n        photoIdProofUrl: '',\n        remarks: ''\n      });\n      fetchCustomers();\n    } catch (error) {\n      console.error('Error adding/updating customer:', error);\n      alert('‚ùå Error adding/updating customer. Please try again.');\n    }\n  };\n  const handleIdProofUpload = async e => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    // Validate file size (max 10MB)\n    if (file.size > 10 * 1024 * 1024) {\n      alert('File size must be less than 10MB');\n      return;\n    }\n\n    // Validate file type\n    const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'application/pdf'];\n    if (!allowedTypes.includes(file.type)) {\n      alert('Please upload a valid image (JPEG, PNG) or PDF file');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('files', file);\n    try {\n      const response = await api.post(`/customer/${selectedCustomer.phoneNumber}/upload-id-proofs`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      if (response.data.success) {\n        setFormData(prev => ({\n          ...prev,\n          photoIdProofUrl: response.data.fileUrl\n        }));\n        alert('‚úÖ ID Proof uploaded successfully!');\n      }\n    } catch (error) {\n      console.error('Error uploading ID proof:', error);\n      alert('‚ùå Error uploading ID proof. Please try again.');\n    }\n  };\n  const handleUploadIdProof = customer => {\n    setFormData({\n      name: customer.name,\n      phoneNumber: customer.phoneNumber,\n      additionalPhoneNumber: customer.additionalPhoneNumber || '',\n      photoIdProofUrl: customer.photoIdProofUrl || '',\n      remarks: customer.remarks || ''\n    });\n    setSelectedCustomer(customer);\n    setIsEditing(true);\n    setShowModal(true);\n  };\n  const resetForm = () => {\n    setFormData({\n      name: '',\n      phoneNumber: '',\n      password: '',\n      additionalPhoneNumber: '',\n      photoIdProofUrl: '',\n      remarks: ''\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"caretaker-loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading contacts...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"caretaker-contacts\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contacts-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uD83D\\uDC65 Contacts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Manage customer information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"search-icon\",\n          children: \"\\uD83D\\uDD0D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search by name or phone number...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          className: \"search-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), searchTerm && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-results\",\n        children: [\"Showing \", filteredCustomers.length, \" of \", customers.length, \" customers\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-customer-section\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"add-customer-btn\",\n        onClick: () => {\n          resetForm();\n          setIsEditing(false);\n          setSelectedCustomer(null);\n          setShowModal(true);\n        },\n        children: \"\\u2795 Add New Customer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contacts-list\",\n      children: filteredCustomers.length > 0 ? filteredCustomers.map(customer => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `contact-card ${!customer.photoIdProofUrl ? 'missing-id-proof' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contact-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"contact-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"contact-name\",\n              children: customer.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"contact-phone\",\n              children: customer.phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 19\n            }, this), customer.additionalPhoneNumber && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"contact-phone-secondary\",\n              children: customer.additionalPhoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"contact-status\",\n            children: customer.photoIdProofUrl ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"status-badge verified\",\n              children: \"\\u2705 Verified\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"status-badge pending\",\n              children: \"\\u26A0\\uFE0F ID Required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 15\n        }, this), customer.remarks && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contact-remarks\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Remarks:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 22\n            }, this), \" \", customer.remarks]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contact-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-btn edit-btn\",\n            onClick: () => handleEditCustomer(customer),\n            children: \"\\u270F\\uFE0F Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 17\n          }, this), customer.photoIdProofUrl ? /*#__PURE__*/_jsxDEV(\"a\", {\n            href: customer.photoIdProofUrl,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"action-btn view-btn\",\n            children: \"\\uD83D\\uDCC4 View ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-btn upload-btn\",\n            onClick: () => handleUploadIdProof(customer),\n            children: \"\\uD83D\\uDCE4 Upload ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 15\n        }, this)]\n      }, customer.phoneNumber, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-contacts\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-contacts-icon\",\n          children: \"\\uD83D\\uDC65\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No contacts found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Try adjusting your search or add a new customer.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: isEditing ? 'Edit Customer' : 'Add New Customer'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-btn\",\n            onClick: () => {\n              setShowModal(false);\n              setIsEditing(false);\n              setSelectedCustomer(null);\n              resetForm();\n            },\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"\\uD83D\\uDC64 Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              value: formData.name,\n              onChange: e => setFormData({\n                ...formData,\n                name: e.target.value\n              }),\n              required: true,\n              placeholder: \"Enter customer name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"\\uD83D\\uDCF1 Phone Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              className: \"form-control\",\n              value: formData.phoneNumber,\n              onChange: e => setFormData({\n                ...formData,\n                phoneNumber: e.target.value\n              }),\n              required: true,\n              placeholder: \"Enter phone number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"\\uD83D\\uDCF1 Additional Phone Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              className: \"form-control\",\n              value: formData.additionalPhoneNumber,\n              onChange: e => setFormData({\n                ...formData,\n                additionalPhoneNumber: e.target.value\n              }),\n              placeholder: \"Optional secondary phone number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"\\uD83D\\uDCC4 ID Proof Document\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              className: \"form-control\",\n              accept: \"image/*,.pdf\",\n              onChange: handleIdProofUpload,\n              id: \"idProofFile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 17\n            }, this), formData.photoIdProofUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"upload-success\",\n              children: [/*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-success\",\n                children: \"\\u2705 ID Proof uploaded successfully\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: formData.photoIdProofUrl,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                className: \"view-document-btn\",\n                children: \"\\uD83D\\uDCC4 View Uploaded Document\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"form-text\",\n              children: \"Upload a photo or PDF of ID proof document (Max 10MB)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"\\uD83D\\uDCDD Remarks\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"form-control\",\n              value: formData.remarks,\n              onChange: e => setFormData({\n                ...formData,\n                remarks: e.target.value\n              }),\n              rows: \"3\",\n              placeholder: \"Any additional notes about this customer...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"mobile-btn mobile-btn-secondary\",\n              onClick: () => {\n                setShowModal(false);\n                setIsEditing(false);\n                setSelectedCustomer(null);\n                resetForm();\n              },\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"mobile-btn mobile-btn-primary\",\n              children: isEditing ? '‚úèÔ∏è Update Customer' : '‚úÖ Add Customer'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 5\n  }, this);\n};\n_s(CaretakerContactScreen, \"BpGMS/DEwZQ4GU9IqDymNR/GuUQ=\");\n_c = CaretakerContactScreen;\nexport default CaretakerContactScreen;\nvar _c;\n$RefreshReg$(_c, \"CaretakerContactScreen\");","map":{"version":3,"names":["React","useState","useEffect","api","jsxDEV","_jsxDEV","CaretakerContactScreen","_s","customers","setCustomers","loading","setLoading","showModal","setShowModal","isEditing","setIsEditing","selectedCustomer","setSelectedCustomer","searchTerm","setSearchTerm","formData","setFormData","name","phoneNumber","additionalPhoneNumber","photoIdProofUrl","remarks","fetchCustomers","response","get","data","error","console","filteredCustomers","filter","customer","_customer$name","_customer$phoneNumber","_customer$additionalP","toLowerCase","searchLower","includes","handleEditCustomer","handleSubmit","e","preventDefault","updateData","password","put","alert","post","handleIdProofUpload","file","target","files","size","allowedTypes","type","FormData","append","headers","success","prev","fileUrl","handleUploadIdProof","resetForm","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","length","onClick","map","href","rel","onSubmit","required","accept","id","rows","_c","$RefreshReg$"],"sources":["/Users/rheaadhikari/Documents/Room-Booking-App/web-client/src/components/CaretakerContactScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../config/api';\nimport './CaretakerContactScreen.css';\n\nconst CaretakerContactScreen = () => {\n  const [customers, setCustomers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showModal, setShowModal] = useState(false);\n  const [isEditing, setIsEditing] = useState(false);\n  const [selectedCustomer, setSelectedCustomer] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [formData, setFormData] = useState({\n    name: '',\n    phoneNumber: '',\n    additionalPhoneNumber: '',\n    photoIdProofUrl: '',\n    remarks: ''\n  });\n\n  useEffect(() => {\n    fetchCustomers();\n  }, []);\n\n  const fetchCustomers = async () => {\n    try {\n      const response = await api.get('/customer');\n      setCustomers(response.data);\n    } catch (error) {\n      console.error('Error fetching customers:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Filter customers based on search term\n  const filteredCustomers = customers.filter(customer => {\n    const name = customer.name?.toLowerCase() || '';\n    const phoneNumber = customer.phoneNumber?.toLowerCase() || '';\n    const additionalPhoneNumber = customer.additionalPhoneNumber?.toLowerCase() || '';\n    const searchLower = searchTerm.toLowerCase();\n    return name.includes(searchLower) || \n           phoneNumber.includes(searchLower) || \n           additionalPhoneNumber.includes(searchLower);\n  });\n\n  const handleEditCustomer = (customer) => {\n    setFormData({\n      name: customer.name,\n      phoneNumber: customer.phoneNumber,\n      additionalPhoneNumber: customer.additionalPhoneNumber || '',\n      photoIdProofUrl: customer.photoIdProofUrl || '',\n      remarks: customer.remarks || ''\n    });\n    setSelectedCustomer(customer);\n    setIsEditing(true);\n    setShowModal(true);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      if (isEditing && selectedCustomer) {\n        // For editing, remove password if it's empty to avoid overwriting existing password\n        const updateData = { ...formData };\n        if (!updateData.password) {\n          delete updateData.password;\n        }\n        await api.put(`/customer/${selectedCustomer.phoneNumber}`, updateData);\n        alert('‚úÖ Customer updated successfully!');\n      } else {\n        // For new customer, password is required\n        if (!formData.password) {\n          alert('‚ùå Password is required for new customers.');\n          return;\n        }\n        await api.post('/auth/customer/register', formData);\n        alert('‚úÖ Customer added successfully!');\n      }\n      \n      setShowModal(false);\n      setIsEditing(false);\n      setSelectedCustomer(null);\n      setFormData({ name: '', phoneNumber: '', password: '', additionalPhoneNumber: '', photoIdProofUrl: '', remarks: '' });\n      fetchCustomers();\n    } catch (error) {\n      console.error('Error adding/updating customer:', error);\n      alert('‚ùå Error adding/updating customer. Please try again.');\n    }\n  };\n\n  const handleIdProofUpload = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    // Validate file size (max 10MB)\n    if (file.size > 10 * 1024 * 1024) {\n      alert('File size must be less than 10MB');\n      return;\n    }\n\n    // Validate file type\n    const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'application/pdf'];\n    if (!allowedTypes.includes(file.type)) {\n      alert('Please upload a valid image (JPEG, PNG) or PDF file');\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('files', file);\n\n    try {\n      const response = await api.post(`/customer/${selectedCustomer.phoneNumber}/upload-id-proofs`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n\n      if (response.data.success) {\n        setFormData(prev => ({\n          ...prev,\n          photoIdProofUrl: response.data.fileUrl\n        }));\n        alert('‚úÖ ID Proof uploaded successfully!');\n      }\n    } catch (error) {\n      console.error('Error uploading ID proof:', error);\n      alert('‚ùå Error uploading ID proof. Please try again.');\n    }\n  };\n\n  const handleUploadIdProof = (customer) => {\n    setFormData({\n      name: customer.name,\n      phoneNumber: customer.phoneNumber,\n      additionalPhoneNumber: customer.additionalPhoneNumber || '',\n      photoIdProofUrl: customer.photoIdProofUrl || '',\n      remarks: customer.remarks || ''\n    });\n    setSelectedCustomer(customer);\n    setIsEditing(true);\n    setShowModal(true);\n  };\n\n  const resetForm = () => {\n    setFormData({ name: '', phoneNumber: '', password: '', additionalPhoneNumber: '', photoIdProofUrl: '', remarks: '' });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"caretaker-loading\">\n        <div className=\"loading-spinner\"></div>\n        <p>Loading contacts...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"caretaker-contacts\">\n      {/* Header */}\n      <div className=\"contacts-header\">\n        <h1>üë• Contacts</h1>\n        <p>Manage customer information</p>\n      </div>\n\n      {/* Search Bar */}\n      <div className=\"search-section\">\n        <div className=\"search-box\">\n          <span className=\"search-icon\">üîç</span>\n          <input\n            type=\"text\"\n            placeholder=\"Search by name or phone number...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"search-input\"\n          />\n        </div>\n        {searchTerm && (\n          <div className=\"search-results\">\n            Showing {filteredCustomers.length} of {customers.length} customers\n          </div>\n        )}\n      </div>\n\n      {/* Add Customer Button */}\n      <div className=\"add-customer-section\">\n        <button \n          className=\"add-customer-btn\"\n          onClick={() => {\n            resetForm();\n            setIsEditing(false);\n            setSelectedCustomer(null);\n            setShowModal(true);\n          }}\n        >\n          ‚ûï Add New Customer\n        </button>\n      </div>\n\n      {/* Contacts List */}\n      <div className=\"contacts-list\">\n        {filteredCustomers.length > 0 ? (\n          filteredCustomers.map(customer => (\n            <div \n              key={customer.phoneNumber} \n              className={`contact-card ${!customer.photoIdProofUrl ? 'missing-id-proof' : ''}`}\n            >\n              <div className=\"contact-header\">\n                <div className=\"contact-info\">\n                  <h3 className=\"contact-name\">{customer.name}</h3>\n                  <p className=\"contact-phone\">{customer.phoneNumber}</p>\n                  {customer.additionalPhoneNumber && (\n                    <p className=\"contact-phone-secondary\">{customer.additionalPhoneNumber}</p>\n                  )}\n                </div>\n                <div className=\"contact-status\">\n                  {customer.photoIdProofUrl ? (\n                    <span className=\"status-badge verified\">‚úÖ Verified</span>\n                  ) : (\n                    <span className=\"status-badge pending\">‚ö†Ô∏è ID Required</span>\n                  )}\n                </div>\n              </div>\n              \n              {customer.remarks && (\n                <div className=\"contact-remarks\">\n                  <p><strong>Remarks:</strong> {customer.remarks}</p>\n                </div>\n              )}\n\n              <div className=\"contact-actions\">\n                <button \n                  className=\"action-btn edit-btn\"\n                  onClick={() => handleEditCustomer(customer)}\n                >\n                  ‚úèÔ∏è Edit\n                </button>\n                {customer.photoIdProofUrl ? (\n                  <a \n                    href={customer.photoIdProofUrl} \n                    target=\"_blank\" \n                    rel=\"noopener noreferrer\"\n                    className=\"action-btn view-btn\"\n                  >\n                    üìÑ View ID\n                  </a>\n                ) : (\n                  <button \n                    className=\"action-btn upload-btn\"\n                    onClick={() => handleUploadIdProof(customer)}\n                  >\n                    üì§ Upload ID\n                  </button>\n                )}\n              </div>\n            </div>\n          ))\n        ) : (\n          <div className=\"no-contacts\">\n            <div className=\"no-contacts-icon\">üë•</div>\n            <h3>No contacts found</h3>\n            <p>Try adjusting your search or add a new customer.</p>\n          </div>\n        )}\n      </div>\n\n      {/* Add/Edit Customer Modal */}\n      {showModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <div className=\"modal-header\">\n              <h3>{isEditing ? 'Edit Customer' : 'Add New Customer'}</h3>\n              <button \n                className=\"close-btn\"\n                onClick={() => {\n                  setShowModal(false);\n                  setIsEditing(false);\n                  setSelectedCustomer(null);\n                  resetForm();\n                }}\n              >\n                √ó\n              </button>\n            </div>\n            <form onSubmit={handleSubmit} className=\"modal-body\">\n              <div className=\"form-group\">\n                <label className=\"form-label\">üë§ Name</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  value={formData.name}\n                  onChange={(e) => setFormData({...formData, name: e.target.value})}\n                  required\n                  placeholder=\"Enter customer name\"\n                />\n              </div>\n              \n              <div className=\"form-group\">\n                <label className=\"form-label\">üì± Phone Number</label>\n                <input\n                  type=\"tel\"\n                  className=\"form-control\"\n                  value={formData.phoneNumber}\n                  onChange={(e) => setFormData({...formData, phoneNumber: e.target.value})}\n                  required\n                  placeholder=\"Enter phone number\"\n                />\n              </div>\n              \n              \n              <div className=\"form-group\">\n                <label className=\"form-label\">üì± Additional Phone Number</label>\n                <input\n                  type=\"tel\"\n                  className=\"form-control\"\n                  value={formData.additionalPhoneNumber}\n                  onChange={(e) => setFormData({...formData, additionalPhoneNumber: e.target.value})}\n                  placeholder=\"Optional secondary phone number\"\n                />\n              </div>\n              \n              <div className=\"form-group\">\n                <label className=\"form-label\">üìÑ ID Proof Document</label>\n                <input\n                  type=\"file\"\n                  className=\"form-control\"\n                  accept=\"image/*,.pdf\"\n                  onChange={handleIdProofUpload}\n                  id=\"idProofFile\"\n                />\n                {formData.photoIdProofUrl && (\n                  <div className=\"upload-success\">\n                    <small className=\"text-success\">‚úÖ ID Proof uploaded successfully</small>\n                    <br />\n                    <a \n                      href={formData.photoIdProofUrl} \n                      target=\"_blank\" \n                      rel=\"noopener noreferrer\"\n                      className=\"view-document-btn\"\n                    >\n                      üìÑ View Uploaded Document\n                    </a>\n                  </div>\n                )}\n                <small className=\"form-text\">\n                  Upload a photo or PDF of ID proof document (Max 10MB)\n                </small>\n              </div>\n              \n              <div className=\"form-group\">\n                <label className=\"form-label\">üìù Remarks</label>\n                <textarea\n                  className=\"form-control\"\n                  value={formData.remarks}\n                  onChange={(e) => setFormData({...formData, remarks: e.target.value})}\n                  rows=\"3\"\n                  placeholder=\"Any additional notes about this customer...\"\n                />\n              </div>\n              \n              <div className=\"form-actions\">\n                <button \n                  type=\"button\" \n                  className=\"mobile-btn mobile-btn-secondary\" \n                  onClick={() => {\n                    setShowModal(false);\n                    setIsEditing(false);\n                    setSelectedCustomer(null);\n                    resetForm();\n                  }}\n                >\n                  Cancel\n                </button>\n                <button type=\"submit\" className=\"mobile-btn mobile-btn-primary\">\n                  {isEditing ? '‚úèÔ∏è Update Customer' : '‚úÖ Add Customer'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CaretakerContactScreen;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}