{"ast":null,"code":"var _jsxFileName = \"/Users/rheaadhikari/Documents/Room-Booking-App/web-client/src/components/BookingScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\n// import DatePicker from 'react-datepicker';\n// import 'react-datepicker/dist/react-datepicker.css';\nimport api from '../config/api';\nimport './BookingScreen.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookingScreen = () => {\n  _s();\n  const [bookings, setBookings] = useState([]);\n  const [rooms, setRooms] = useState([]);\n  const [customers, setCustomers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  // Modal states\n  const [showBookingModal, setShowBookingModal] = useState(false);\n  const [showPaymentModal, setShowPaymentModal] = useState(false);\n  const [isEditingPayment, setIsEditingPayment] = useState(false);\n  const [editingPaymentId, setEditingPaymentId] = useState(null);\n  const [selectedBooking, setSelectedBooking] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n\n  // Form states\n  const [formData, setFormData] = useState({\n    customerPhoneNumber: '',\n    roomId: '',\n    checkInDate: new Date(),\n    checkOutDate: new Date(Date.now() + 24 * 60 * 60 * 1000),\n    // Tomorrow\n    bookingStatus: 'NEW',\n    bookingDurationType: 'DAILY',\n    dailyCost: '',\n    monthlyCost: '',\n    earlyCheckinCost: ''\n  });\n  const [paymentData, setPaymentData] = useState({\n    amount: '',\n    mode: '',\n    createdAt: new Date(),\n    paymentScreenshotUrl: ''\n  });\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const fetchData = async () => {\n    setLoading(true);\n    try {\n      const [bookingsRes, roomsRes, customersRes] = await Promise.all([api.get('/bookings'), api.get('/rooms'), api.get('/customer')]);\n      setBookings(bookingsRes.data);\n      setRooms(roomsRes.data);\n      setCustomers(customersRes.data);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleInputChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const filteredBookings = bookings.filter(booking => {\n    var _customer$name, _booking$customerPhon;\n    if (!searchTerm) return true;\n    // Find customer by phone number\n    const customer = customers.find(c => c.phoneNumber === booking.customerPhoneNumber);\n    const customerName = (customer === null || customer === void 0 ? void 0 : (_customer$name = customer.name) === null || _customer$name === void 0 ? void 0 : _customer$name.toLowerCase()) || '';\n    const phoneNumber = ((_booking$customerPhon = booking.customerPhoneNumber) === null || _booking$customerPhon === void 0 ? void 0 : _booking$customerPhon.toLowerCase()) || '';\n    const searchLower = searchTerm.toLowerCase();\n    return customerName.includes(searchLower) || phoneNumber.includes(searchLower);\n  });\n  const handlePaymentInputChange = (field, value) => {\n    setPaymentData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const calculateTotalCost = formData => {\n    const checkInDate = new Date(formData.checkInDate);\n    const checkOutDate = new Date(formData.checkOutDate);\n    const earlyCheckinCost = parseFloat(formData.earlyCheckinCost) || 0;\n    let totalCost = 0;\n    if (formData.bookingDurationType === 'DAILY') {\n      const dailyCost = parseFloat(formData.dailyCost) || 0;\n      const timeDiff = checkOutDate.getTime() - checkInDate.getTime();\n      const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));\n      totalCost = dailyCost * daysDiff + earlyCheckinCost;\n    } else if (formData.bookingDurationType === 'MONTHLY') {\n      const monthlyCost = parseFloat(formData.monthlyCost) || 0;\n      const timeDiff = checkOutDate.getTime() - checkInDate.getTime();\n      const monthsDiff = Math.ceil(timeDiff / (1000 * 3600 * 24 * 30)); // Approximate months\n      totalCost = monthlyCost * monthsDiff + earlyCheckinCost;\n    }\n    return totalCost;\n  };\n  const validateBookingForm = formData => {\n    if (formData.bookingDurationType === 'DAILY' && (!formData.dailyCost || parseFloat(formData.dailyCost) <= 0)) {\n      alert('Please enter a valid daily cost for daily bookings.');\n      return false;\n    }\n    if (formData.bookingDurationType === 'MONTHLY' && (!formData.monthlyCost || parseFloat(formData.monthlyCost) <= 0)) {\n      alert('Please enter a valid monthly cost for monthly bookings.');\n      return false;\n    }\n    return true;\n  };\n  const handleCreateBooking = async e => {\n    e.preventDefault();\n\n    // Validate form\n    if (!validateBookingForm(formData)) {\n      return;\n    }\n    try {\n      // Calculate total cost\n      const totalCost = calculateTotalCost(formData);\n      const bookingPayload = {\n        ...formData,\n        checkInDate: formData.checkInDate.toISOString(),\n        checkOutDate: formData.checkOutDate.toISOString(),\n        totalAmount: totalCost\n      };\n      if (isEditing && selectedBooking) {\n        await handleUpdateBooking(selectedBooking.id, bookingPayload);\n      } else {\n        await api.post('/bookings', bookingPayload);\n        alert(`Booking created successfully! Total Amount: â‚¹${totalCost.toFixed(2)}`);\n      }\n      setShowBookingModal(false);\n      setIsEditing(false);\n      setSelectedBooking(null);\n      resetForm();\n      fetchData(); // Refresh data\n    } catch (error) {\n      var _error$response;\n      console.error('Error creating/updating booking:', error);\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 409) {\n        alert('Room is already booked for the selected dates. Please choose different dates or room.');\n      } else {\n        alert('Error creating/updating booking. Please try again.');\n      }\n    }\n  };\n  const handleEditBooking = booking => {\n    var _booking$customer, _booking$room;\n    setFormData({\n      customerPhoneNumber: ((_booking$customer = booking.customer) === null || _booking$customer === void 0 ? void 0 : _booking$customer.phoneNumber) || '',\n      roomId: ((_booking$room = booking.room) === null || _booking$room === void 0 ? void 0 : _booking$room.id) || '',\n      checkInDate: new Date(booking.checkInDate),\n      checkOutDate: new Date(booking.checkOutDate),\n      bookingStatus: booking.bookingStatus,\n      bookingDurationType: booking.bookingDurationType || 'DAILY',\n      dailyCost: booking.dailyCost || '',\n      monthlyCost: booking.monthlyCost || '',\n      earlyCheckinCost: booking.earlyCheckinCost || ''\n    });\n    setSelectedBooking(booking);\n    setIsEditing(true);\n    setShowBookingModal(true);\n  };\n  const handleUpdateBooking = async (bookingId, updatedData) => {\n    try {\n      await api.put(`/bookings/${bookingId}`, updatedData);\n      fetchData(); // Refresh data\n      alert('Booking updated successfully!');\n    } catch (error) {\n      var _error$response2;\n      console.error('Error updating booking:', error);\n      if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 409) {\n        alert('Room is already booked for the selected dates. Please choose different dates or room.');\n      } else {\n        alert('Error updating booking. Please try again.');\n      }\n    }\n  };\n  const handleDeleteBooking = async bookingId => {\n    if (window.confirm('Are you sure you want to delete this booking?')) {\n      try {\n        await api.delete(`/bookings/${bookingId}`);\n        fetchData(); // Refresh data\n        alert('Booking deleted successfully!');\n      } catch (error) {\n        console.error('Error deleting booking:', error);\n        alert('Error deleting booking. Please try again.');\n      }\n    }\n  };\n  const handleAddPayment = async e => {\n    e.preventDefault();\n    try {\n      const paymentPayload = {\n        ...paymentData,\n        createdAt: paymentData.createdAt.toISOString()\n      };\n      if (isEditingPayment && editingPaymentId) {\n        // Update existing payment\n        await api.put(`/payments/${editingPaymentId}`, paymentPayload);\n        alert('Payment updated successfully!');\n      } else {\n        // Create new payment\n        await api.post(`/bookings/${selectedBooking.id}/payments`, paymentPayload);\n        alert('Payment added successfully!');\n      }\n      setShowPaymentModal(false);\n      setIsEditingPayment(false);\n      setEditingPaymentId(null);\n      setPaymentData({\n        amount: '',\n        mode: '',\n        createdAt: new Date(),\n        paymentScreenshotUrl: ''\n      });\n      fetchData(); // Refresh data\n    } catch (error) {\n      console.error('Error adding payment:', error);\n      alert('Error adding payment. Please try again.');\n    }\n  };\n  const handleEditPayment = payment => {\n    // Find the booking that contains this payment\n    const booking = bookings.find(b => b.payments && b.payments.some(p => p.id === payment.id));\n    if (booking) {\n      setSelectedBooking(booking);\n    }\n    setIsEditingPayment(true);\n    setEditingPaymentId(payment.id);\n    setPaymentData({\n      amount: payment.amount,\n      mode: payment.mode,\n      createdAt: new Date(payment.createdAt),\n      paymentScreenshotUrl: payment.paymentScreenshotUrl || ''\n    });\n    setShowPaymentModal(true);\n  };\n  const handleDeletePayment = async paymentId => {\n    if (window.confirm('Are you sure you want to delete this payment?')) {\n      try {\n        await api.delete(`/payments/${paymentId}`);\n        fetchData();\n        alert('Payment deleted successfully!');\n      } catch (error) {\n        console.error('Error deleting payment:', error);\n        alert('Error deleting payment. Please try again.');\n      }\n    }\n  };\n  const handlePaymentScreenshotUpload = async e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      const response = await api.post('/payments/upload-screenshot-new', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      if (response.data.success) {\n        setPaymentData({\n          ...paymentData,\n          paymentScreenshotUrl: response.data.fileUrl\n        });\n        alert('âœ… Screenshot uploaded successfully!');\n      }\n    } catch (error) {\n      console.error('Error uploading screenshot:', error);\n      alert('Error uploading screenshot. Please try again.');\n    }\n  };\n  const generateInvoice = async bookingId => {\n    try {\n      const response = await api.get(`/invoices/${bookingId}/preview`);\n      const invoiceWindow = window.open('', '_blank');\n      invoiceWindow.document.write(response.data);\n      invoiceWindow.document.close();\n    } catch (error) {\n      console.error('Error generating invoice:', error);\n      alert('Error generating invoice. Please try again.');\n    }\n  };\n  const downloadInvoicePdf = async bookingId => {\n    try {\n      const response = await api.get(`/invoices/${bookingId}/download`, {\n        responseType: 'blob'\n      });\n\n      // Create blob link to download\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `booking_${bookingId}_invoice.pdf`);\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n      window.URL.revokeObjectURL(url);\n    } catch (error) {\n      console.error('Error downloading invoice:', error);\n      alert('Error downloading invoice. Please try again.');\n    }\n  };\n  const resetForm = () => {\n    setFormData({\n      customerPhoneNumber: '',\n      roomId: '',\n      checkInDate: new Date(),\n      checkOutDate: new Date(Date.now() + 24 * 60 * 60 * 1000),\n      bookingStatus: 'NEW',\n      bookingDurationType: 'DAILY',\n      dailyCost: '',\n      monthlyCost: '',\n      earlyCheckinCost: ''\n    });\n  };\n  const getStatusBadge = status => {\n    const statusConfig = {\n      'NEW': {\n        class: 'badge-info',\n        text: 'New'\n      },\n      'PENDING': {\n        class: 'badge-warning',\n        text: 'Pending'\n      },\n      'CONFIRMED': {\n        class: 'badge-success',\n        text: 'Confirmed'\n      },\n      'CHECKED_IN': {\n        class: 'badge-primary',\n        text: 'Checked In'\n      },\n      'CHECKED_OUT': {\n        class: 'badge-secondary',\n        text: 'Checked Out'\n      },\n      'CANCELLED': {\n        class: 'badge-danger',\n        text: 'Cancelled'\n      }\n    };\n    const config = statusConfig[status] || {\n      class: 'badge-secondary',\n      text: status\n    };\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `badge ${config.class}`,\n      children: config.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 12\n    }, this);\n  };\n  const getPaymentModeBadge = mode => {\n    const modeConfig = {\n      'CASH': {\n        class: 'badge-success',\n        text: 'Cash'\n      },\n      'ONLINE': {\n        class: 'badge-info',\n        text: 'Online'\n      },\n      'CARETAKER': {\n        class: 'badge-secondary',\n        text: 'Caretaker'\n      }\n    };\n    const config = modeConfig[mode] || {\n      class: 'badge-secondary',\n      text: mode\n    };\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `badge ${config.class}`,\n      children: config.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 12\n    }, this);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading bookings...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"booking-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Booking Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-box\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search by name or phone number...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            className: \"form-control\",\n            style: {\n              width: '300px',\n              marginRight: '10px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => setShowBookingModal(true),\n          children: \"+ New Booking\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"card-title\",\n          children: [\"All Bookings\", searchTerm && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-muted\",\n            style: {\n              fontSize: '14px',\n              fontWeight: 'normal'\n            },\n            children: [\"(\", filteredBookings.length, \" of \", bookings.length, \" shown)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: filteredBookings.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: searchTerm ? 'No bookings found matching your search.' : 'No bookings found. Create your first booking!'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bookings-list\",\n          children: filteredBookings.map(booking => {\n            var _booking$customer2;\n            // Find customer and room data\n            const customer = customers.find(c => c.phoneNumber === booking.customerPhoneNumber);\n            const room = rooms.find(r => r.id === booking.roomId);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"booking-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"booking-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"booking-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: (customer === null || customer === void 0 ? void 0 : customer.name) || 'Unknown Customer'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 425,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"booking-id\",\n                    children: [\"Booking #\", booking.id]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"booking-actions\",\n                  children: [getStatusBadge(booking.bookingStatus), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-warning\",\n                    onClick: () => handleEditBooking(booking),\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-secondary\",\n                    onClick: () => {\n                      setSelectedBooking(booking);\n                      setShowPaymentModal(true);\n                    },\n                    children: \"Add Payment\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 436,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-info\",\n                    onClick: () => generateInvoice(booking.id),\n                    children: \"\\uD83D\\uDCC4 Preview\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 445,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-success\",\n                    onClick: () => downloadInvoicePdf(booking.id),\n                    children: \"\\uD83D\\uDCE5 Download PDF\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 451,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-danger\",\n                    onClick: () => handleDeleteBooking(booking.id),\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 457,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"booking-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-label\",\n                    children: \"Room:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 468,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-value\",\n                    children: [(room === null || room === void 0 ? void 0 : room.roomNumber) || `Room ${booking.roomId}`, \" (\", (room === null || room === void 0 ? void 0 : room.roomType) || 'N/A', \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 469,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-label\",\n                    children: \"Check-in:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 474,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-value\",\n                    children: new Date(booking.checkInDate).toLocaleDateString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 475,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-label\",\n                    children: \"Check-out:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 480,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-value\",\n                    children: new Date(booking.checkOutDate).toLocaleDateString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 481,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-label\",\n                    children: \"Phone:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 486,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-value\",\n                    children: ((_booking$customer2 = booking.customer) === null || _booking$customer2 === void 0 ? void 0 : _booking$customer2.phoneNumber) || 'N/A'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 487,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-label\",\n                    children: \"Duration Type:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 492,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-value\",\n                    children: booking.bookingDurationType || 'N/A'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 493,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 491,\n                  columnNumber: 21\n                }, this), booking.dailyCost && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-label\",\n                    children: \"Daily Cost:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 499,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-value\",\n                    children: [\"\\u20B9\", booking.dailyCost]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 500,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 498,\n                  columnNumber: 23\n                }, this), booking.monthlyCost && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-label\",\n                    children: \"Monthly Cost:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 505,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-value\",\n                    children: [\"\\u20B9\", booking.monthlyCost]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 506,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 23\n                }, this), booking.earlyCheckinCost && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-label\",\n                    children: \"Early Check-in Cost:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 511,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-value\",\n                    children: [\"\\u20B9\", booking.earlyCheckinCost]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 512,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 510,\n                  columnNumber: 23\n                }, this), booking.totalAmount && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-label\",\n                    children: \"Total Amount:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 517,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-value\",\n                    children: [\"\\u20B9\", booking.totalAmount]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 518,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 516,\n                  columnNumber: 23\n                }, this), booking.dueAmount && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-label\",\n                    children: \"Due Amount:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 523,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-value\",\n                    children: [\"\\u20B9\", booking.dueAmount]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 522,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 19\n              }, this), booking.payments && booking.payments.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"payments-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: \"Payments\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 532,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"payments-list\",\n                  children: booking.payments.map((payment, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"payment-item\",\n                    style: {\n                      display: 'flex',\n                      justifyContent: 'space-between',\n                      alignItems: 'center',\n                      padding: '8px',\n                      border: '1px solid #ddd',\n                      borderRadius: '4px',\n                      marginBottom: '8px'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '10px'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"payment-amount\",\n                        style: {\n                          fontWeight: 'bold'\n                        },\n                        children: [\"\\u20B9\", payment.amount]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 537,\n                        columnNumber: 31\n                      }, this), getPaymentModeBadge(payment.mode), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"payment-date\",\n                        style: {\n                          fontSize: '12px',\n                          color: '#666'\n                        },\n                        children: new Date(payment.createdAt).toLocaleDateString()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 539,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 536,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        display: 'flex',\n                        gap: '5px'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleEditPayment(payment),\n                        style: {\n                          padding: '4px 8px',\n                          fontSize: '12px',\n                          backgroundColor: '#007bff',\n                          color: 'white',\n                          border: 'none',\n                          borderRadius: '3px',\n                          cursor: 'pointer'\n                        },\n                        children: \"Edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 544,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleDeletePayment(payment.id),\n                        style: {\n                          padding: '4px 8px',\n                          fontSize: '12px',\n                          backgroundColor: '#dc3545',\n                          color: 'white',\n                          border: 'none',\n                          borderRadius: '3px',\n                          cursor: 'pointer'\n                        },\n                        children: \"Delete\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 558,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 543,\n                      columnNumber: 29\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 535,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 533,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 531,\n                columnNumber: 21\n              }, this)]\n            }, booking.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 7\n    }, this), showBookingModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: isEditing ? 'Edit Booking' : 'Create New Booking'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-close\",\n            onClick: () => {\n              setShowBookingModal(false);\n              setIsEditing(false);\n              setSelectedBooking(null);\n            },\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 592,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 590,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleCreateBooking,\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Customer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-control\",\n              value: formData.customerPhoneNumber,\n              onChange: e => handleInputChange('customerPhoneNumber', e.target.value),\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Customer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 612,\n                columnNumber: 19\n              }, this), customers.map(customer => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: customer.phoneNumber,\n                children: [customer.name, \" - \", customer.phoneNumber]\n              }, customer.phoneNumber, true, {\n                fileName: _jsxFileName,\n                lineNumber: 614,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-control\",\n              value: formData.roomId,\n              onChange: e => handleInputChange('roomId', e.target.value),\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Room\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 629,\n                columnNumber: 19\n              }, this), rooms.map(room => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: room.id,\n                children: [room.roomNumber, \" - \", room.roomType, \" (\\u20B9\", room.monthlyReferenceCost || room.dailyReferenceCost, \"/month)\"]\n              }, room.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 631,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 621,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Check-in Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 639,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: formData.checkInDate.toISOString().split('T')[0],\n              onChange: e => handleInputChange('checkInDate', new Date(e.target.value)),\n              className: \"form-control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 640,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Check-out Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: formData.checkOutDate.toISOString().split('T')[0],\n              onChange: e => handleInputChange('checkOutDate', new Date(e.target.value)),\n              className: \"form-control\",\n              min: formData.checkInDate.toISOString().split('T')[0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 650,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Booking Duration Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 660,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-control\",\n              value: formData.bookingDurationType,\n              onChange: e => handleInputChange('bookingDurationType', e.target.value),\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"DAILY\",\n                children: \"Daily\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 667,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"MONTHLY\",\n                children: \"Monthly\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 668,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 661,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 659,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: [\"Daily Cost (\\u20B9)\", formData.bookingDurationType === 'DAILY' && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \" *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 675,\n                columnNumber: 64\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 673,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control\",\n              value: formData.dailyCost,\n              onChange: e => handleInputChange('dailyCost', e.target.value),\n              min: \"0\",\n              step: \"0.01\",\n              placeholder: \"Enter daily cost\",\n              required: formData.bookingDurationType === 'DAILY'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: [\"Monthly Cost (\\u20B9)\", formData.bookingDurationType === 'MONTHLY' && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \" *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 692,\n                columnNumber: 66\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control\",\n              value: formData.monthlyCost,\n              onChange: e => handleInputChange('monthlyCost', e.target.value),\n              min: \"0\",\n              step: \"0.01\",\n              placeholder: \"Enter monthly cost\",\n              required: formData.bookingDurationType === 'MONTHLY'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 689,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Early Check-in Cost (\\u20B9)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 707,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control\",\n              value: formData.earlyCheckinCost,\n              onChange: e => handleInputChange('earlyCheckinCost', e.target.value),\n              min: \"0\",\n              step: \"0.01\",\n              placeholder: \"Enter early check-in cost (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 708,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 706,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 720,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-control\",\n              value: formData.bookingStatus,\n              onChange: e => handleInputChange('bookingStatus', e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"NEW\",\n                children: \"New\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 726,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"CONFIRMED\",\n                children: \"Confirmed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 727,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"CHECKED_IN\",\n                children: \"Checked In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 728,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"CHECKED_OUT\",\n                children: \"Checked Out\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 729,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"CANCELLED\",\n                children: \"Cancelled\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 730,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 721,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 719,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              backgroundColor: '#f8f9fa',\n              padding: '15px',\n              borderRadius: '5px',\n              border: '1px solid #dee2e6'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              style: {\n                fontWeight: 'bold',\n                marginBottom: '10px'\n              },\n              children: \"\\uD83D\\uDCB0 Cost Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 741,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '14px',\n                lineHeight: '1.6'\n              },\n              children: (() => {\n                const checkInDate = new Date(formData.checkInDate);\n                const checkOutDate = new Date(formData.checkOutDate);\n                const timeDiff = checkOutDate.getTime() - checkInDate.getTime();\n                const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));\n                const monthsDiff = Math.ceil(timeDiff / (1000 * 3600 * 24 * 30));\n                const earlyCheckinCost = parseFloat(formData.earlyCheckinCost) || 0;\n                if (formData.bookingDurationType === 'DAILY') {\n                  const dailyCost = parseFloat(formData.dailyCost) || 0;\n                  const totalCost = dailyCost * daysDiff + earlyCheckinCost;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [\"Duration: \", daysDiff, \" day(s)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 758,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [\"Daily Cost: \\u20B9\", dailyCost, \" \\xD7 \", daysDiff, \" = \\u20B9\", (dailyCost * daysDiff).toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 759,\n                      columnNumber: 27\n                    }, this), earlyCheckinCost > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [\"Early Check-in: \\u20B9\", earlyCheckinCost]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 760,\n                      columnNumber: 52\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        fontWeight: 'bold',\n                        marginTop: '5px',\n                        fontSize: '16px',\n                        color: '#28a745'\n                      },\n                      children: [\"Total: \\u20B9\", totalCost.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 761,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 757,\n                    columnNumber: 25\n                  }, this);\n                } else if (formData.bookingDurationType === 'MONTHLY') {\n                  const monthlyCost = parseFloat(formData.monthlyCost) || 0;\n                  const totalCost = monthlyCost * monthsDiff + earlyCheckinCost;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [\"Duration: \", monthsDiff, \" month(s)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 771,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [\"Monthly Cost: \\u20B9\", monthlyCost, \" \\xD7 \", monthsDiff, \" = \\u20B9\", (monthlyCost * monthsDiff).toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 772,\n                      columnNumber: 27\n                    }, this), earlyCheckinCost > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [\"Early Check-in: \\u20B9\", earlyCheckinCost]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 773,\n                      columnNumber: 52\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        fontWeight: 'bold',\n                        marginTop: '5px',\n                        fontSize: '16px',\n                        color: '#28a745'\n                      },\n                      children: [\"Total: \\u20B9\", totalCost.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 774,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 770,\n                    columnNumber: 25\n                  }, this);\n                } else {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: \"Select duration type and enter costs to see preview\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 780,\n                    columnNumber: 30\n                  }, this);\n                }\n              })()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 744,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 735,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              onClick: () => setShowBookingModal(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 787,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              children: isEditing ? 'Update Booking' : 'Create Booking'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 790,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 786,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 589,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 588,\n      columnNumber: 9\n    }, this), showPaymentModal && selectedBooking && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: isEditingPayment ? 'Edit Payment' : 'Add Payment'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 804,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-close\",\n            onClick: () => {\n              setShowPaymentModal(false);\n              setIsEditingPayment(false);\n              setEditingPaymentId(null);\n              setPaymentData({\n                amount: '',\n                mode: '',\n                createdAt: new Date(),\n                paymentScreenshotUrl: ''\n              });\n            },\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 805,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 803,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleAddPayment,\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Amount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 819,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control\",\n              value: paymentData.amount,\n              onChange: e => handlePaymentInputChange('amount', e.target.value),\n              required: true,\n              min: \"0\",\n              step: \"0.01\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 820,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 818,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Payment Mode\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 832,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-control\",\n              value: paymentData.mode,\n              onChange: e => handlePaymentInputChange('mode', e.target.value),\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Payment Mode\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 839,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"CASH\",\n                children: \"Cash\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 840,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"ONLINE\",\n                children: \"Online\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 841,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"CARETAKER\",\n                children: \"Caretaker\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 842,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 833,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 831,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Payment Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 847,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: paymentData.createdAt.toISOString().split('T')[0],\n              onChange: e => handlePaymentInputChange('createdAt', new Date(e.target.value)),\n              className: \"form-control\",\n              max: new Date().toISOString().split('T')[0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 848,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 846,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Payment Screenshot (Optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 858,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: e => handlePaymentScreenshotUpload(e),\n              className: \"form-control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 859,\n              columnNumber: 17\n            }, this), paymentData.paymentScreenshotUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '10px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: paymentData.paymentScreenshotUrl,\n                alt: \"Payment Screenshot\",\n                style: {\n                  maxWidth: '200px',\n                  maxHeight: '150px',\n                  border: '1px solid #ddd',\n                  borderRadius: '4px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 867,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setPaymentData({\n                  ...paymentData,\n                  paymentScreenshotUrl: ''\n                }),\n                style: {\n                  marginLeft: '10px',\n                  padding: '4px 8px',\n                  fontSize: '12px',\n                  backgroundColor: '#dc3545',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '3px'\n                },\n                children: \"Remove\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 872,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 866,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 857,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              onClick: () => {\n                setShowPaymentModal(false);\n                setIsEditingPayment(false);\n                setEditingPaymentId(null);\n                setPaymentData({\n                  amount: '',\n                  mode: '',\n                  createdAt: new Date(),\n                  paymentScreenshotUrl: ''\n                });\n              },\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 884,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              children: isEditingPayment ? 'Update Payment' : 'Add Payment'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 892,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 883,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 817,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 802,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 801,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 374,\n    columnNumber: 5\n  }, this);\n};\n_s(BookingScreen, \"LnVY5XlfbROX/nezda8NK6eddCk=\");\n_c = BookingScreen;\nexport default BookingScreen;\nvar _c;\n$RefreshReg$(_c, \"BookingScreen\");","map":{"version":3,"names":["React","useState","useEffect","api","jsxDEV","_jsxDEV","BookingScreen","_s","bookings","setBookings","rooms","setRooms","customers","setCustomers","loading","setLoading","searchTerm","setSearchTerm","showBookingModal","setShowBookingModal","showPaymentModal","setShowPaymentModal","isEditingPayment","setIsEditingPayment","editingPaymentId","setEditingPaymentId","selectedBooking","setSelectedBooking","isEditing","setIsEditing","formData","setFormData","customerPhoneNumber","roomId","checkInDate","Date","checkOutDate","now","bookingStatus","bookingDurationType","dailyCost","monthlyCost","earlyCheckinCost","paymentData","setPaymentData","amount","mode","createdAt","paymentScreenshotUrl","fetchData","bookingsRes","roomsRes","customersRes","Promise","all","get","data","error","console","handleInputChange","field","value","prev","filteredBookings","filter","booking","_customer$name","_booking$customerPhon","customer","find","c","phoneNumber","customerName","name","toLowerCase","searchLower","includes","handlePaymentInputChange","calculateTotalCost","parseFloat","totalCost","timeDiff","getTime","daysDiff","Math","ceil","monthsDiff","validateBookingForm","alert","handleCreateBooking","e","preventDefault","bookingPayload","toISOString","totalAmount","handleUpdateBooking","id","post","toFixed","resetForm","_error$response","response","status","handleEditBooking","_booking$customer","_booking$room","room","bookingId","updatedData","put","_error$response2","handleDeleteBooking","window","confirm","delete","handleAddPayment","paymentPayload","handleEditPayment","payment","b","payments","some","p","handleDeletePayment","paymentId","handlePaymentScreenshotUpload","file","target","files","FormData","append","headers","success","fileUrl","generateInvoice","invoiceWindow","open","document","write","close","downloadInvoicePdf","responseType","url","URL","createObjectURL","Blob","link","createElement","href","setAttribute","body","appendChild","click","remove","revokeObjectURL","getStatusBadge","statusConfig","class","text","config","className","children","fileName","_jsxFileName","lineNumber","columnNumber","getPaymentModeBadge","modeConfig","type","placeholder","onChange","style","width","marginRight","onClick","fontSize","fontWeight","length","map","_booking$customer2","r","roomNumber","roomType","toLocaleDateString","dueAmount","index","display","justifyContent","alignItems","padding","border","borderRadius","marginBottom","gap","color","backgroundColor","cursor","onSubmit","required","monthlyReferenceCost","dailyReferenceCost","split","min","step","lineHeight","marginTop","max","accept","src","alt","maxWidth","maxHeight","marginLeft","_c","$RefreshReg$"],"sources":["/Users/rheaadhikari/Documents/Room-Booking-App/web-client/src/components/BookingScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n// import DatePicker from 'react-datepicker';\n// import 'react-datepicker/dist/react-datepicker.css';\nimport api from '../config/api';\nimport './BookingScreen.css';\n\nconst BookingScreen = () => {\n  const [bookings, setBookings] = useState([]);\n  const [rooms, setRooms] = useState([]);\n  const [customers, setCustomers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  \n  // Modal states\n  const [showBookingModal, setShowBookingModal] = useState(false);\n  const [showPaymentModal, setShowPaymentModal] = useState(false);\n  const [isEditingPayment, setIsEditingPayment] = useState(false);\n  const [editingPaymentId, setEditingPaymentId] = useState(null);\n  const [selectedBooking, setSelectedBooking] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n  \n  // Form states\n  const [formData, setFormData] = useState({\n    customerPhoneNumber: '',\n    roomId: '',\n    checkInDate: new Date(),\n    checkOutDate: new Date(Date.now() + 24 * 60 * 60 * 1000), // Tomorrow\n    bookingStatus: 'NEW',\n    bookingDurationType: 'DAILY',\n    dailyCost: '',\n    monthlyCost: '',\n    earlyCheckinCost: ''\n  });\n  \n  const [paymentData, setPaymentData] = useState({\n    amount: '',\n    mode: '',\n    createdAt: new Date(),\n    paymentScreenshotUrl: ''\n  });\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    setLoading(true);\n    try {\n      const [bookingsRes, roomsRes, customersRes] = await Promise.all([\n        api.get('/bookings'),\n        api.get('/rooms'),\n        api.get('/customer')\n      ]);\n      \n      setBookings(bookingsRes.data);\n      setRooms(roomsRes.data);\n      setCustomers(customersRes.data);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInputChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const filteredBookings = bookings.filter(booking => {\n    if (!searchTerm) return true;\n    // Find customer by phone number\n    const customer = customers.find(c => c.phoneNumber === booking.customerPhoneNumber);\n    const customerName = customer?.name?.toLowerCase() || '';\n    const phoneNumber = booking.customerPhoneNumber?.toLowerCase() || '';\n    const searchLower = searchTerm.toLowerCase();\n    return customerName.includes(searchLower) || phoneNumber.includes(searchLower);\n  });\n\n  const handlePaymentInputChange = (field, value) => {\n    setPaymentData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const calculateTotalCost = (formData) => {\n    const checkInDate = new Date(formData.checkInDate);\n    const checkOutDate = new Date(formData.checkOutDate);\n    const earlyCheckinCost = parseFloat(formData.earlyCheckinCost) || 0;\n    \n    let totalCost = 0;\n    \n    if (formData.bookingDurationType === 'DAILY') {\n      const dailyCost = parseFloat(formData.dailyCost) || 0;\n      const timeDiff = checkOutDate.getTime() - checkInDate.getTime();\n      const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));\n      totalCost = (dailyCost * daysDiff) + earlyCheckinCost;\n    } else if (formData.bookingDurationType === 'MONTHLY') {\n      const monthlyCost = parseFloat(formData.monthlyCost) || 0;\n      const timeDiff = checkOutDate.getTime() - checkInDate.getTime();\n      const monthsDiff = Math.ceil(timeDiff / (1000 * 3600 * 24 * 30)); // Approximate months\n      totalCost = (monthlyCost * monthsDiff) + earlyCheckinCost;\n    }\n    \n    return totalCost;\n  };\n\n  const validateBookingForm = (formData) => {\n    if (formData.bookingDurationType === 'DAILY' && (!formData.dailyCost || parseFloat(formData.dailyCost) <= 0)) {\n      alert('Please enter a valid daily cost for daily bookings.');\n      return false;\n    }\n    if (formData.bookingDurationType === 'MONTHLY' && (!formData.monthlyCost || parseFloat(formData.monthlyCost) <= 0)) {\n      alert('Please enter a valid monthly cost for monthly bookings.');\n      return false;\n    }\n    return true;\n  };\n\n  const handleCreateBooking = async (e) => {\n    e.preventDefault();\n    \n    // Validate form\n    if (!validateBookingForm(formData)) {\n      return;\n    }\n    \n    try {\n      // Calculate total cost\n      const totalCost = calculateTotalCost(formData);\n      \n      const bookingPayload = {\n        ...formData,\n        checkInDate: formData.checkInDate.toISOString(),\n        checkOutDate: formData.checkOutDate.toISOString(),\n        totalAmount: totalCost\n      };\n      \n      if (isEditing && selectedBooking) {\n        await handleUpdateBooking(selectedBooking.id, bookingPayload);\n      } else {\n        await api.post('/bookings', bookingPayload);\n        alert(`Booking created successfully! Total Amount: â‚¹${totalCost.toFixed(2)}`);\n      }\n      \n      setShowBookingModal(false);\n      setIsEditing(false);\n      setSelectedBooking(null);\n      resetForm();\n      fetchData(); // Refresh data\n    } catch (error) {\n      console.error('Error creating/updating booking:', error);\n      if (error.response?.status === 409) {\n        alert('Room is already booked for the selected dates. Please choose different dates or room.');\n      } else {\n        alert('Error creating/updating booking. Please try again.');\n      }\n    }\n  };\n\n  const handleEditBooking = (booking) => {\n    setFormData({\n      customerPhoneNumber: booking.customer?.phoneNumber || '',\n      roomId: booking.room?.id || '',\n      checkInDate: new Date(booking.checkInDate),\n      checkOutDate: new Date(booking.checkOutDate),\n      bookingStatus: booking.bookingStatus,\n      bookingDurationType: booking.bookingDurationType || 'DAILY',\n      dailyCost: booking.dailyCost || '',\n      monthlyCost: booking.monthlyCost || '',\n      earlyCheckinCost: booking.earlyCheckinCost || ''\n    });\n    setSelectedBooking(booking);\n    setIsEditing(true);\n    setShowBookingModal(true);\n  };\n\n  const handleUpdateBooking = async (bookingId, updatedData) => {\n    try {\n      await api.put(`/bookings/${bookingId}`, updatedData);\n      fetchData(); // Refresh data\n      alert('Booking updated successfully!');\n    } catch (error) {\n      console.error('Error updating booking:', error);\n      if (error.response?.status === 409) {\n        alert('Room is already booked for the selected dates. Please choose different dates or room.');\n      } else {\n        alert('Error updating booking. Please try again.');\n      }\n    }\n  };\n\n  const handleDeleteBooking = async (bookingId) => {\n    if (window.confirm('Are you sure you want to delete this booking?')) {\n      try {\n        await api.delete(`/bookings/${bookingId}`);\n        fetchData(); // Refresh data\n        alert('Booking deleted successfully!');\n      } catch (error) {\n        console.error('Error deleting booking:', error);\n        alert('Error deleting booking. Please try again.');\n      }\n    }\n  };\n\n  const handleAddPayment = async (e) => {\n    e.preventDefault();\n    try {\n      const paymentPayload = {\n        ...paymentData,\n        createdAt: paymentData.createdAt.toISOString()\n      };\n      \n      if (isEditingPayment && editingPaymentId) {\n        // Update existing payment\n        await api.put(`/payments/${editingPaymentId}`, paymentPayload);\n        alert('Payment updated successfully!');\n      } else {\n        // Create new payment\n        await api.post(`/bookings/${selectedBooking.id}/payments`, paymentPayload);\n        alert('Payment added successfully!');\n      }\n      \n      setShowPaymentModal(false);\n      setIsEditingPayment(false);\n      setEditingPaymentId(null);\n      setPaymentData({ amount: '', mode: '', createdAt: new Date(), paymentScreenshotUrl: '' });\n      fetchData(); // Refresh data\n    } catch (error) {\n      console.error('Error adding payment:', error);\n      alert('Error adding payment. Please try again.');\n    }\n  };\n\n  const handleEditPayment = (payment) => {\n    // Find the booking that contains this payment\n    const booking = bookings.find(b => b.payments && b.payments.some(p => p.id === payment.id));\n    if (booking) {\n      setSelectedBooking(booking);\n    }\n    setIsEditingPayment(true);\n    setEditingPaymentId(payment.id);\n    setPaymentData({\n      amount: payment.amount,\n      mode: payment.mode,\n      createdAt: new Date(payment.createdAt),\n      paymentScreenshotUrl: payment.paymentScreenshotUrl || ''\n    });\n    setShowPaymentModal(true);\n  };\n\n  const handleDeletePayment = async (paymentId) => {\n    if (window.confirm('Are you sure you want to delete this payment?')) {\n      try {\n        await api.delete(`/payments/${paymentId}`);\n        fetchData();\n        alert('Payment deleted successfully!');\n      } catch (error) {\n        console.error('Error deleting payment:', error);\n        alert('Error deleting payment. Please try again.');\n      }\n    }\n  };\n\n  const handlePaymentScreenshotUpload = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n\n      const response = await api.post('/payments/upload-screenshot-new', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n\n      if (response.data.success) {\n        setPaymentData({...paymentData, paymentScreenshotUrl: response.data.fileUrl});\n        alert('âœ… Screenshot uploaded successfully!');\n      }\n    } catch (error) {\n      console.error('Error uploading screenshot:', error);\n      alert('Error uploading screenshot. Please try again.');\n    }\n  };\n\n  const generateInvoice = async (bookingId) => {\n    try {\n      const response = await api.get(`/invoices/${bookingId}/preview`);\n      const invoiceWindow = window.open('', '_blank');\n      invoiceWindow.document.write(response.data);\n      invoiceWindow.document.close();\n    } catch (error) {\n      console.error('Error generating invoice:', error);\n      alert('Error generating invoice. Please try again.');\n    }\n  };\n\n  const downloadInvoicePdf = async (bookingId) => {\n    try {\n      const response = await api.get(`/invoices/${bookingId}/download`, {\n        responseType: 'blob'\n      });\n      \n      // Create blob link to download\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `booking_${bookingId}_invoice.pdf`);\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n      window.URL.revokeObjectURL(url);\n    } catch (error) {\n      console.error('Error downloading invoice:', error);\n      alert('Error downloading invoice. Please try again.');\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({\n      customerPhoneNumber: '',\n      roomId: '',\n      checkInDate: new Date(),\n      checkOutDate: new Date(Date.now() + 24 * 60 * 60 * 1000),\n      bookingStatus: 'NEW',\n      bookingDurationType: 'DAILY',\n      dailyCost: '',\n      monthlyCost: '',\n      earlyCheckinCost: ''\n    });\n  };\n\n  const getStatusBadge = (status) => {\n    const statusConfig = {\n      'NEW': { class: 'badge-info', text: 'New' },\n      'PENDING': { class: 'badge-warning', text: 'Pending' },\n      'CONFIRMED': { class: 'badge-success', text: 'Confirmed' },\n      'CHECKED_IN': { class: 'badge-primary', text: 'Checked In' },\n      'CHECKED_OUT': { class: 'badge-secondary', text: 'Checked Out' },\n      'CANCELLED': { class: 'badge-danger', text: 'Cancelled' }\n    };\n    \n    const config = statusConfig[status] || { class: 'badge-secondary', text: status };\n    return <span className={`badge ${config.class}`}>{config.text}</span>;\n  };\n\n  const getPaymentModeBadge = (mode) => {\n    const modeConfig = {\n      'CASH': { class: 'badge-success', text: 'Cash' },\n      'ONLINE': { class: 'badge-info', text: 'Online' },\n      'CARETAKER': { class: 'badge-secondary', text: 'Caretaker' }\n    };\n    \n    const config = modeConfig[mode] || { class: 'badge-secondary', text: mode };\n    return <span className={`badge ${config.class}`}>{config.text}</span>;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading\">\n        <div className=\"spinner\"></div>\n        <p>Loading bookings...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"booking-screen\">\n      <div className=\"page-header\">\n        <h1>Booking Management</h1>\n        <div className=\"header-actions\">\n          <div className=\"search-box\">\n            <input\n              type=\"text\"\n              placeholder=\"Search by name or phone number...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"form-control\"\n              style={{ width: '300px', marginRight: '10px' }}\n            />\n          </div>\n          <button \n            className=\"btn btn-primary\"\n            onClick={() => setShowBookingModal(true)}\n          >\n            + New Booking\n          </button>\n        </div>\n      </div>\n\n      {/* Bookings List */}\n      <div className=\"card\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title\">\n            All Bookings \n            {searchTerm && (\n              <span className=\"text-muted\" style={{ fontSize: '14px', fontWeight: 'normal' }}>\n                ({filteredBookings.length} of {bookings.length} shown)\n              </span>\n            )}\n          </h3>\n        </div>\n        <div className=\"card-body\">\n          {filteredBookings.length === 0 ? (\n            <div className=\"empty-state\">\n              <p>{searchTerm ? 'No bookings found matching your search.' : 'No bookings found. Create your first booking!'}</p>\n            </div>\n          ) : (\n            <div className=\"bookings-list\">\n              {filteredBookings.map((booking) => {\n                // Find customer and room data\n                const customer = customers.find(c => c.phoneNumber === booking.customerPhoneNumber);\n                const room = rooms.find(r => r.id === booking.roomId);\n                \n                return (\n                <div key={booking.id} className=\"booking-item\">\n                  <div className=\"booking-header\">\n                    <div className=\"booking-info\">\n                      <h4>{customer?.name || 'Unknown Customer'}</h4>\n                      <p className=\"booking-id\">Booking #{booking.id}</p>\n                    </div>\n                    <div className=\"booking-actions\">\n                      {getStatusBadge(booking.bookingStatus)}\n                      <button\n                        className=\"btn btn-sm btn-warning\"\n                        onClick={() => handleEditBooking(booking)}\n                      >\n                        Edit\n                      </button>\n                      <button\n                        className=\"btn btn-sm btn-secondary\"\n                        onClick={() => {\n                          setSelectedBooking(booking);\n                          setShowPaymentModal(true);\n                        }}\n                      >\n                        Add Payment\n                      </button>\n                      <button\n                        className=\"btn btn-sm btn-info\"\n                        onClick={() => generateInvoice(booking.id)}\n                      >\n                        ðŸ“„ Preview\n                      </button>\n                      <button\n                        className=\"btn btn-sm btn-success\"\n                        onClick={() => downloadInvoicePdf(booking.id)}\n                      >\n                        ðŸ“¥ Download PDF\n                      </button>\n                      <button\n                        className=\"btn btn-sm btn-danger\"\n                        onClick={() => handleDeleteBooking(booking.id)}\n                      >\n                        Delete\n                      </button>\n                    </div>\n                  </div>\n                  \n                  <div className=\"booking-details\">\n                    <div className=\"detail-row\">\n                      <span className=\"detail-label\">Room:</span>\n                      <span className=\"detail-value\">\n                        {room?.roomNumber || `Room ${booking.roomId}`} ({room?.roomType || 'N/A'})\n                      </span>\n                    </div>\n                    <div className=\"detail-row\">\n                      <span className=\"detail-label\">Check-in:</span>\n                      <span className=\"detail-value\">\n                        {new Date(booking.checkInDate).toLocaleDateString()}\n                      </span>\n                    </div>\n                    <div className=\"detail-row\">\n                      <span className=\"detail-label\">Check-out:</span>\n                      <span className=\"detail-value\">\n                        {new Date(booking.checkOutDate).toLocaleDateString()}\n                      </span>\n                    </div>\n                    <div className=\"detail-row\">\n                      <span className=\"detail-label\">Phone:</span>\n                      <span className=\"detail-value\">\n                        {booking.customer?.phoneNumber || 'N/A'}\n                      </span>\n                    </div>\n                    <div className=\"detail-row\">\n                      <span className=\"detail-label\">Duration Type:</span>\n                      <span className=\"detail-value\">\n                        {booking.bookingDurationType || 'N/A'}\n                      </span>\n                    </div>\n                    {booking.dailyCost && (\n                      <div className=\"detail-row\">\n                        <span className=\"detail-label\">Daily Cost:</span>\n                        <span className=\"detail-value\">â‚¹{booking.dailyCost}</span>\n                      </div>\n                    )}\n                    {booking.monthlyCost && (\n                      <div className=\"detail-row\">\n                        <span className=\"detail-label\">Monthly Cost:</span>\n                        <span className=\"detail-value\">â‚¹{booking.monthlyCost}</span>\n                      </div>\n                    )}\n                    {booking.earlyCheckinCost && (\n                      <div className=\"detail-row\">\n                        <span className=\"detail-label\">Early Check-in Cost:</span>\n                        <span className=\"detail-value\">â‚¹{booking.earlyCheckinCost}</span>\n                      </div>\n                    )}\n                    {booking.totalAmount && (\n                      <div className=\"detail-row\">\n                        <span className=\"detail-label\">Total Amount:</span>\n                        <span className=\"detail-value\">â‚¹{booking.totalAmount}</span>\n                      </div>\n                    )}\n                    {booking.dueAmount && (\n                      <div className=\"detail-row\">\n                        <span className=\"detail-label\">Due Amount:</span>\n                        <span className=\"detail-value\">â‚¹{booking.dueAmount}</span>\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Payments */}\n                  {booking.payments && booking.payments.length > 0 && (\n                    <div className=\"payments-section\">\n                      <h5>Payments</h5>\n                      <div className=\"payments-list\">\n                        {booking.payments.map((payment, index) => (\n                          <div key={index} className=\"payment-item\" style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '8px', border: '1px solid #ddd', borderRadius: '4px', marginBottom: '8px' }}>\n                            <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n                              <span className=\"payment-amount\" style={{ fontWeight: 'bold' }}>â‚¹{payment.amount}</span>\n                              {getPaymentModeBadge(payment.mode)}\n                              <span className=\"payment-date\" style={{ fontSize: '12px', color: '#666' }}>\n                                {new Date(payment.createdAt).toLocaleDateString()}\n                              </span>\n                            </div>\n                            <div style={{ display: 'flex', gap: '5px' }}>\n                              <button \n                                onClick={() => handleEditPayment(payment)}\n                                style={{ \n                                  padding: '4px 8px', \n                                  fontSize: '12px', \n                                  backgroundColor: '#007bff', \n                                  color: 'white', \n                                  border: 'none', \n                                  borderRadius: '3px',\n                                  cursor: 'pointer'\n                                }}\n                              >\n                                Edit\n                              </button>\n                              <button \n                                onClick={() => handleDeletePayment(payment.id)}\n                                style={{ \n                                  padding: '4px 8px', \n                                  fontSize: '12px', \n                                  backgroundColor: '#dc3545', \n                                  color: 'white', \n                                  border: 'none', \n                                  borderRadius: '3px',\n                                  cursor: 'pointer'\n                                }}\n                              >\n                                Delete\n                              </button>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                </div>\n                );\n              })}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* New Booking Modal */}\n      {showBookingModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <div className=\"modal-header\">\n              <h3>{isEditing ? 'Edit Booking' : 'Create New Booking'}</h3>\n              <button \n                className=\"modal-close\"\n                onClick={() => {\n                  setShowBookingModal(false);\n                  setIsEditing(false);\n                  setSelectedBooking(null);\n                }}\n              >\n                Ã—\n              </button>\n            </div>\n            <form onSubmit={handleCreateBooking} className=\"modal-body\">\n              <div className=\"form-group\">\n                <label className=\"form-label\">Customer</label>\n                <select\n                  className=\"form-control\"\n                  value={formData.customerPhoneNumber}\n                  onChange={(e) => handleInputChange('customerPhoneNumber', e.target.value)}\n                  required\n                >\n                  <option value=\"\">Select Customer</option>\n                  {customers.map(customer => (\n                    <option key={customer.phoneNumber} value={customer.phoneNumber}>\n                      {customer.name} - {customer.phoneNumber}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label className=\"form-label\">Room</label>\n                <select\n                  className=\"form-control\"\n                  value={formData.roomId}\n                  onChange={(e) => handleInputChange('roomId', e.target.value)}\n                  required\n                >\n                  <option value=\"\">Select Room</option>\n                  {rooms.map(room => (\n                    <option key={room.id} value={room.id}>\n                      {room.roomNumber} - {room.roomType} (â‚¹{room.monthlyReferenceCost || room.dailyReferenceCost}/month)\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label className=\"form-label\">Check-in Date</label>\n                <input\n                  type=\"date\"\n                  value={formData.checkInDate.toISOString().split('T')[0]}\n                  onChange={(e) => handleInputChange('checkInDate', new Date(e.target.value))}\n                  className=\"form-control\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label className=\"form-label\">Check-out Date</label>\n                <input\n                  type=\"date\"\n                  value={formData.checkOutDate.toISOString().split('T')[0]}\n                  onChange={(e) => handleInputChange('checkOutDate', new Date(e.target.value))}\n                  className=\"form-control\"\n                  min={formData.checkInDate.toISOString().split('T')[0]}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label className=\"form-label\">Booking Duration Type</label>\n                <select\n                  className=\"form-control\"\n                  value={formData.bookingDurationType}\n                  onChange={(e) => handleInputChange('bookingDurationType', e.target.value)}\n                  required\n                >\n                  <option value=\"DAILY\">Daily</option>\n                  <option value=\"MONTHLY\">Monthly</option>\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label className=\"form-label\">\n                  Daily Cost (â‚¹) \n                  {formData.bookingDurationType === 'DAILY' && <span style={{ color: 'red' }}> *</span>}\n                </label>\n                <input\n                  type=\"number\"\n                  className=\"form-control\"\n                  value={formData.dailyCost}\n                  onChange={(e) => handleInputChange('dailyCost', e.target.value)}\n                  min=\"0\"\n                  step=\"0.01\"\n                  placeholder=\"Enter daily cost\"\n                  required={formData.bookingDurationType === 'DAILY'}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label className=\"form-label\">\n                  Monthly Cost (â‚¹) \n                  {formData.bookingDurationType === 'MONTHLY' && <span style={{ color: 'red' }}> *</span>}\n                </label>\n                <input\n                  type=\"number\"\n                  className=\"form-control\"\n                  value={formData.monthlyCost}\n                  onChange={(e) => handleInputChange('monthlyCost', e.target.value)}\n                  min=\"0\"\n                  step=\"0.01\"\n                  placeholder=\"Enter monthly cost\"\n                  required={formData.bookingDurationType === 'MONTHLY'}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label className=\"form-label\">Early Check-in Cost (â‚¹)</label>\n                <input\n                  type=\"number\"\n                  className=\"form-control\"\n                  value={formData.earlyCheckinCost}\n                  onChange={(e) => handleInputChange('earlyCheckinCost', e.target.value)}\n                  min=\"0\"\n                  step=\"0.01\"\n                  placeholder=\"Enter early check-in cost (optional)\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label className=\"form-label\">Status</label>\n                <select\n                  className=\"form-control\"\n                  value={formData.bookingStatus}\n                  onChange={(e) => handleInputChange('bookingStatus', e.target.value)}\n                >\n                  <option value=\"NEW\">New</option>\n                  <option value=\"CONFIRMED\">Confirmed</option>\n                  <option value=\"CHECKED_IN\">Checked In</option>\n                  <option value=\"CHECKED_OUT\">Checked Out</option>\n                  <option value=\"CANCELLED\">Cancelled</option>\n                </select>\n              </div>\n\n              {/* Cost Preview */}\n              <div className=\"form-group\" style={{ \n                backgroundColor: '#f8f9fa', \n                padding: '15px', \n                borderRadius: '5px', \n                border: '1px solid #dee2e6' \n              }}>\n                <label className=\"form-label\" style={{ fontWeight: 'bold', marginBottom: '10px' }}>\n                  ðŸ’° Cost Preview\n                </label>\n                <div style={{ fontSize: '14px', lineHeight: '1.6' }}>\n                  {(() => {\n                    const checkInDate = new Date(formData.checkInDate);\n                    const checkOutDate = new Date(formData.checkOutDate);\n                    const timeDiff = checkOutDate.getTime() - checkInDate.getTime();\n                    const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));\n                    const monthsDiff = Math.ceil(timeDiff / (1000 * 3600 * 24 * 30));\n                    const earlyCheckinCost = parseFloat(formData.earlyCheckinCost) || 0;\n                    \n                    if (formData.bookingDurationType === 'DAILY') {\n                      const dailyCost = parseFloat(formData.dailyCost) || 0;\n                      const totalCost = (dailyCost * daysDiff) + earlyCheckinCost;\n                      return (\n                        <div>\n                          <div>Duration: {daysDiff} day(s)</div>\n                          <div>Daily Cost: â‚¹{dailyCost} Ã— {daysDiff} = â‚¹{(dailyCost * daysDiff).toFixed(2)}</div>\n                          {earlyCheckinCost > 0 && <div>Early Check-in: â‚¹{earlyCheckinCost}</div>}\n                          <div style={{ fontWeight: 'bold', marginTop: '5px', fontSize: '16px', color: '#28a745' }}>\n                            Total: â‚¹{totalCost.toFixed(2)}\n                          </div>\n                        </div>\n                      );\n                    } else if (formData.bookingDurationType === 'MONTHLY') {\n                      const monthlyCost = parseFloat(formData.monthlyCost) || 0;\n                      const totalCost = (monthlyCost * monthsDiff) + earlyCheckinCost;\n                      return (\n                        <div>\n                          <div>Duration: {monthsDiff} month(s)</div>\n                          <div>Monthly Cost: â‚¹{monthlyCost} Ã— {monthsDiff} = â‚¹{(monthlyCost * monthsDiff).toFixed(2)}</div>\n                          {earlyCheckinCost > 0 && <div>Early Check-in: â‚¹{earlyCheckinCost}</div>}\n                          <div style={{ fontWeight: 'bold', marginTop: '5px', fontSize: '16px', color: '#28a745' }}>\n                            Total: â‚¹{totalCost.toFixed(2)}\n                          </div>\n                        </div>\n                      );\n                    } else {\n                      return <div>Select duration type and enter costs to see preview</div>;\n                    }\n                  })()}\n                </div>\n              </div>\n\n              <div className=\"modal-footer\">\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={() => setShowBookingModal(false)}>\n                  Cancel\n                </button>\n                <button type=\"submit\" className=\"btn btn-primary\">\n                  {isEditing ? 'Update Booking' : 'Create Booking'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Payment Modal */}\n      {showPaymentModal && selectedBooking && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <div className=\"modal-header\">\n              <h3>{isEditingPayment ? 'Edit Payment' : 'Add Payment'}</h3>\n              <button \n                className=\"modal-close\"\n                onClick={() => {\n                  setShowPaymentModal(false);\n                  setIsEditingPayment(false);\n                  setEditingPaymentId(null);\n                  setPaymentData({ amount: '', mode: '', createdAt: new Date(), paymentScreenshotUrl: '' });\n                }}\n              >\n                Ã—\n              </button>\n            </div>\n            <form onSubmit={handleAddPayment} className=\"modal-body\">\n              <div className=\"form-group\">\n                <label className=\"form-label\">Amount</label>\n                <input\n                  type=\"number\"\n                  className=\"form-control\"\n                  value={paymentData.amount}\n                  onChange={(e) => handlePaymentInputChange('amount', e.target.value)}\n                  required\n                  min=\"0\"\n                  step=\"0.01\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label className=\"form-label\">Payment Mode</label>\n                <select\n                  className=\"form-control\"\n                  value={paymentData.mode}\n                  onChange={(e) => handlePaymentInputChange('mode', e.target.value)}\n                  required\n                >\n                  <option value=\"\">Select Payment Mode</option>\n                  <option value=\"CASH\">Cash</option>\n                  <option value=\"ONLINE\">Online</option>\n                  <option value=\"CARETAKER\">Caretaker</option>\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label className=\"form-label\">Payment Date</label>\n                <input\n                  type=\"date\"\n                  value={paymentData.createdAt.toISOString().split('T')[0]}\n                  onChange={(e) => handlePaymentInputChange('createdAt', new Date(e.target.value))}\n                  className=\"form-control\"\n                  max={new Date().toISOString().split('T')[0]}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label className=\"form-label\">Payment Screenshot (Optional)</label>\n                <input\n                  type=\"file\"\n                  accept=\"image/*\"\n                  onChange={(e) => handlePaymentScreenshotUpload(e)}\n                  className=\"form-control\"\n                />\n                {paymentData.paymentScreenshotUrl && (\n                  <div style={{ marginTop: '10px' }}>\n                    <img \n                      src={paymentData.paymentScreenshotUrl} \n                      alt=\"Payment Screenshot\" \n                      style={{ maxWidth: '200px', maxHeight: '150px', border: '1px solid #ddd', borderRadius: '4px' }}\n                    />\n                    <button \n                      type=\"button\"\n                      onClick={() => setPaymentData({...paymentData, paymentScreenshotUrl: ''})}\n                      style={{ marginLeft: '10px', padding: '4px 8px', fontSize: '12px', backgroundColor: '#dc3545', color: 'white', border: 'none', borderRadius: '3px' }}\n                    >\n                      Remove\n                    </button>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"modal-footer\">\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={() => {\n                  setShowPaymentModal(false);\n                  setIsEditingPayment(false);\n                  setEditingPaymentId(null);\n                  setPaymentData({ amount: '', mode: '', createdAt: new Date(), paymentScreenshotUrl: '' });\n                }}>\n                  Cancel\n                </button>\n                <button type=\"submit\" className=\"btn btn-primary\">\n                  {isEditingPayment ? 'Update Payment' : 'Add Payment'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default BookingScreen;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}